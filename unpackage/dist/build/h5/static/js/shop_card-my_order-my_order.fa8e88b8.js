(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop_card-my_order-my_order"],{"0b9d":function(t,e,i){var n=i("3ba1");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("03a324fd",n,!0,{sourceMap:!1,shadowMode:!1})},2909:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=s(i("6005")),o=s(i("db90")),a=s(i("06c5")),c=s(i("3427"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){return(0,n.default)(t)||(0,o.default)(t)||(0,a.default)(t)||(0,c.default)()}},3427:function(t,e,i){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"3ba1":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'uni-page-body[data-v-c71de158]{background-color:#f7f7f7}.option[data-v-c71de158]{display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;position:-webkit-sticky;position:sticky;top:%?88?%;z-index:99}.option > uni-view[data-v-c71de158]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?30?%;line-height:%?90?%;color:#333}.option .active[data-v-c71de158]{color:var(--theme);position:relative}.option .active[data-v-c71de158]::after{position:absolute;content:"";width:%?46?%;height:%?4?%;background-color:var(--theme);bottom:0;left:50%;margin-left:%?-23?%}.list-item[data-v-c71de158]{margin-top:%?20?%;background-color:#fff}.list-item .item-title[data-v-c71de158]{height:%?80?%;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-item .item-title .num-box[data-v-c71de158]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-item .item-title .num-box uni-image[data-v-c71de158]{width:%?48?%;height:%?36?%;margin-right:%?20?%}.list-item .item-content[data-v-c71de158]{padding:%?20?% %?30?%;box-sizing:border-box;box-shadow:0 %?-2?% 0 0 #dfe3e6;border-bottom:%?1?% solid #dfe3e6}.list-item .item-content uni-image[data-v-c71de158]{height:%?200?%;width:%?200?%}.list-item .item-content .item-list[data-v-c71de158]{display:-webkit-box;display:-webkit-flex;display:flex;margin-top:%?20?%}.list-item .item-content .item-list > uni-view[data-v-c71de158]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.list-item .item-content .item-list > uni-view .good-title[data-v-c71de158]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.list-item .item-content .item-list > uni-view .good-title .title[data-v-c71de158]{max-width:%?380?%}.list-item .item-content .item-list > uni-view .flex[data-v-c71de158]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-item .item-content .item-list > uni-view .spec-key[data-v-c71de158]{color:#999}.list-item .item-content .item-list .evaluation[data-v-c71de158]{width:%?108?%;height:%?52?%;border-radius:%?8?%;border:%?1?% solid var(--theme);line-height:%?52?%;text-align:center;color:var(--theme);box-sizing:border-box}.list-item .item-content .item-list[data-v-c71de158]:first-child{margin-top:0}.list-item .order-price[data-v-c71de158]{height:%?80?%;width:%?690?%;margin:0 auto;box-shadow:0 %?2?% 0 0 #dfe3e6;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list-item .option-buttom[data-v-c71de158]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;box-sizing:border-box;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% %?0?% %?20?% %?30?%}.list-item .option-buttom uni-view[data-v-c71de158]{width:%?172?%;height:%?60?%;border-radius:%?8?%;border:1px solid #b4b4b4;line-height:%?60?%;text-align:center;box-sizing:border-box;margin-right:%?30?%}.list-item .option-buttom .option-2[data-v-c71de158]{background-color:var(--theme);color:#fff;border:none}.no-more[data-v-c71de158]{color:#999;height:%?80?%;text-align:center;line-height:%?80?%;font-size:%?26?%;background-color:#f7f7f7}body.?%PAGE?%[data-v-c71de158]{background-color:#f7f7f7}',""]),t.exports=e},"4fba":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"option"},t._l(t.option,(function(e,n){return i("v-uni-view",{key:n,class:[e.active?"active":""],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.to_active(e,n)}}},[t._v(t._s(e.label))])})),1),t.option[t.active].list.length>0?i("v-uni-view",[t._l(t.option[t.active].list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"list-item"},[i("v-uni-view",{staticClass:"item-title font-28",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.to_detail(e)}}},[i("v-uni-view",{staticClass:"num-box"},[e.buy_user_id?i("v-uni-image",{attrs:{src:"/static/baodan.png"}}):t._e(),i("v-uni-text",[t._v("订单编号:"+t._s(e.order_sn))])],1),"已取消"===e.order_status_desc?i("v-uni-view",{staticStyle:{color:"#999999"}},[t._v(t._s(e.order_status_desc))]):"待发货"===e.order_status_desc||"待支付"===e.order_status_desc?i("v-uni-view",{staticStyle:{color:"#F41613"}},[t._v(t._s(e.order_status_desc))]):i("v-uni-view",[t._v(t._s(e.order_status_desc))])],1),i("v-uni-view",{staticClass:"item-content",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.to_detail(e)}}},[t._l(e.goods_list,(function(n,o){return[i("v-uni-view",{key:o,staticClass:"item-list"},[i("v-uni-image",{attrs:{src:t.$image+n.original_img,mode:""}}),i("v-uni-view",[i("v-uni-view",{staticClass:"good-title"},[i("v-uni-view",{staticClass:"title font-28 ellipsis-two"},[t._v(t._s(n.goods_name))]),i("v-uni-view",{staticClass:"font-32"},[t._v("x"+t._s(n.goods_num))])],1),i("v-uni-view",{staticClass:"spec-key font-26 ellipsis-two"},[t._v(t._s(n.spec_key_name))]),i("v-uni-view",{staticClass:"font-32 flex"},[i("v-uni-view",[t._v("￥"+t._s(n.member_goods_price))]),1===e.comment_btn?i("v-uni-view",{staticClass:"evaluation font-28",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.add_comment(n,e)}}},[t._v("评价")]):t._e()],1)],1)],1)]}))],2),i("v-uni-view",{staticClass:"order-price font-28",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.to_detail(e)}}},[i("v-uni-view",[t._v("共"+t._s(e.goods_list.length)+"件商品")]),i("v-uni-view",[t._v("运费：￥"+t._s(e.shipping_price))]),i("v-uni-view",[t._v("总价：￥"+t._s(e.total_amount))])],1),i("v-uni-view",{staticClass:"option-buttom font-30"},[1==e.cancel_btn&&1!=e.pay_status?i("v-uni-view",{staticClass:"option-1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancel(e)}}},[t._v("取消订单")]):t._e(),1==e.cancel_btn&&1==e.pay_status&&0==e.order_prom_type?i("v-uni-view",{staticClass:"option-1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancel_pay(e)}}},[t._v("取消订单")]):t._e(),1==e.shipping_btn?i("v-uni-view",{staticClass:"option-1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.to_invoice(e)}}},[t._v("查看物流")]):t._e(),1==e.receive_btn?i("v-uni-view",{staticClass:"option-1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.server_img=!0}}},[t._v("联系客服")]):t._e(),1==e.pay_btn&&"offline_pay"!=e.pay_code&&0==e.pay_doc_status?i("v-uni-view",{staticClass:"option-2",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.to_pay(e)}}},[t._v("立即付款")]):t._e(),1==e.remind_btn?i("v-uni-view",{staticClass:"option-2",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.remind(e)}}},[t._v("提醒发货")]):t._e(),1==e.commission_btn?i("v-uni-view",{staticClass:"option-2",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showCom(e)}}},[t._v("确认分发")]):t._e(),1==e.receive_btn?i("v-uni-view",{staticClass:"option-2",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.isConfirm(e)}}},[t._v("确认收货")]):t._e()],1)],1)})),t.option[t.active].have?t._e():i("v-uni-view",{staticClass:"no-more"},[t._v("我是有底线的")])],2):i("no-data"),i("server-img",{model:{value:t.server_img,callback:function(e){t.server_img=e},expression:"server_img"}})],1)},a=[]},6005:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var n=o(i("6b75"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t))return(0,n.default)(t)}},a016:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("c740"),i("4160"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("2909")),a={data:function(){return{option:[{label:"全部",value:"",active:!0,list:[],page:1,have:!0},{label:"待付款",value:"WAITPAY",active:!1,list:[],page:1,have:!0},{label:"待发货",value:"WAITSEND",active:!1,list:[],page:1,have:!0},{label:"待收货",value:"WAITRECEIVE",active:!1,list:[],page:1,have:!0},{label:"待评价",value:"WAITCCOMMENT",active:!1,list:[],page:1,have:!0}],active:0,server_img:!1}},onLoad:function(t){if(t.type){var e=this.option.findIndex((function(e){return e.value===t.type}));this.option.forEach((function(t){t.active=!1})),this.option[e].active=!0,this.active=e}},onShow:function(){this.get_list(this.option[this.active],!0)},methods:{showCom:function(t){var e=this;uni.showModal({title:"提示",content:"是否确认分发？",success:function(i){i.confirm&&(uni.showLoading({mask:!0}),e.$http("post|api/Order/exec_commission",{order_id:t.order_id}).then((function(t){uni.hideLoading(),e.$toastApp(t.msg),setTimeout((function(){e.to_active(e.option[e.active],e.active)}),300)})).catch((function(t){uni.hideLoading(),e.$toastApp(t.msg)})))}})},to_active:function(t,e){this.option.forEach((function(t){t.active=!1})),this.active=e,t.active=!0,t.page=1,t.have=!0,this.get_list(t,!0)},get_list:function(t,e){this.$http("get|api/Order/order_list",{type:t.value,p:t.page}).then((function(i){e&&(t.list=[]),0!==i.result.lists.length?t.list=[].concat((0,o.default)(t.list),(0,o.default)(i.result.lists)):t.have=!1}))},cancel:function(t){var e=this;uni.showModal({title:"提示",content:"确认取消订单？",success:function(i){i.confirm?e.$http("post|api/Order/cancel_order",{order_id:t.order_id}).then((function(t){e.$toastApp(t.msg),setTimeout((function(){e.to_active(e.option[e.active],e.active)}),1e3)})):i.cancel&&e.$toastApp("取消操作")}})},cancel_pay:function(t){uni.navigateTo({url:"/shop_card/order_detail/order_detail?id=".concat(t.order_id,"&do=cancel_pay")})},to_pay:function(t){uni.navigateTo({url:"/shop_card/order_detail/order_detail?id=".concat(t.order_id,"&do=to_pay")})},to_invoice:function(t){uni.navigateTo({url:"/shop_card/invoice/invoice?id=".concat(t.order_id,"&invoice_no=").concat(t.invoice_no,"&code=").concat(t.shipping_name)})},add_comment:function(t,e){uni.navigateTo({url:"/shop_card/evaluation/evaluation?rec_id=".concat(t.rec_id,"&goods_id=").concat(t.goods_id,"&order_id=").concat(e.order_id)})},remind:function(t){var e=this;this.$http("get|api/Order/remind_order",{order_id:t.order_id}).then((function(t){e.$toastApp(t.msg)})).catch((function(t){e.$toastApp(t.msg)}))},isConfirm:function(t){var e=this;uni.showModal({title:"提示",content:"确认是否已收到商品",success:function(i){i.confirm&&e.order_confirm(t)}})},order_confirm:function(t){var e=this;this.$http("get|api/Order/order_confirm",{order_id:t.order_id}).then((function(t){e.$toastApp(t.msg),setTimeout((function(){e.get_list(e.option[e.active],!0)}),2e3)})).catch((function(t){e.$toastApp(t.msg)}))},to_detail:function(t){uni.navigateTo({url:"/shop_card/order_detail/order_detail?id=".concat(t.order_id)})},more:function(t){t.page+=1,this.get_list(t)}},onReachBottom:function(){uni.showLoading({title:"加载中..."}),this.more(this.option[this.active])}};e.default=a},c701:function(t,e,i){"use strict";i.r(e);var n=i("a016"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},db90:function(t,e,i){"use strict";function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},e7ec:function(t,e,i){"use strict";var n=i("0b9d"),o=i.n(n);o.a},fd36:function(t,e,i){"use strict";i.r(e);var n=i("4fba"),o=i("c701");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("e7ec");var c,s=i("f0c5"),l=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"c71de158",null,!1,n["a"],c);e["default"]=l.exports}}]);