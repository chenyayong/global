(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shop_card-instead_pay-instead_pay"],{"004b":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"instead-pay"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-view",{staticClass:"content font-36"},[i("v-uni-view",{staticClass:"font-36"},[e._v("我在Global3商城挑了样好东西，请你帮我付款吧~")])],1)],1),i("v-uni-view",{staticClass:"flex s-center center user-info font-32"},[i("v-uni-view",[e._v("代付金额")]),i("v-uni-view",[e._v("收货人："+e._s(e.order_info.consignee))])],1),i("v-uni-view",{staticClass:"flex s-center center price"},[i("v-uni-view",{staticClass:"font-60"},[i("v-uni-view",{staticClass:"font-36 inline"},[e._v("￥")]),i("v-uni-view",{staticClass:"bold inline"},[e._v(e._s(e.order_info.order_amount))])],1),i("v-uni-view",{staticClass:"flex s-center center"},[i("v-uni-view",{staticClass:"time font-28",staticStyle:{"margin-right":"14rpx"}},[e._v("剩余支付时间")]),i("v-uni-view",{staticClass:"time-num color"},[e._v(e._s(e.time.hour))]),i("v-uni-view",{staticClass:"font-28 dian"},[e._v(":")]),i("v-uni-view",{staticClass:"time-num color"},[e._v(e._s(e.time.min))]),i("v-uni-view",{staticClass:"font-28 dian"},[e._v(":")]),i("v-uni-view",{staticClass:"time-num color"},[e._v(e._s(e.time.sec))])],1)],1),i("v-uni-view",{staticClass:"tip"},[i("v-uni-view",[e._v("付款说明：")]),e._l(e.explain,(function(t,a){return i("v-uni-view",{key:a},[e._v(e._s(t))])}))],2),i("v-uni-view",{staticClass:"to-pay",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.to_pay.apply(void 0,arguments)}}},[e._v("立即支付")]),i("v-uni-view",{staticClass:"good-list-title"},[e._v("代付商品")]),e._l(e.order_info.goods_list,(function(t,a){return i("v-uni-view",{key:a,staticClass:"flex good-item"},[i("v-uni-image",{staticClass:"good-img",attrs:{src:e.$image+t.original_img,mode:""}}),i("v-uni-view",{staticClass:"flex-item flex"},[i("v-uni-view",{staticClass:"flex-item flex s-center good-info"},[i("v-uni-view",{staticClass:"font-28 ellipsis-two"},[e._v(e._s(t.goods_name))]),i("v-uni-view",{staticClass:"font-26"},[e._v(e._s(t.spec_key_name))]),i("v-uni-view",{staticClass:"font-32"},[e._v("¥"+e._s(t.goods_price))])],1),i("v-uni-view",{staticClass:"font-34"},[e._v("x"+e._s(t.goods_num))])],1)],1)})),e.show?i("v-uni-view",{staticClass:"mengban"},[e._v("点击右上角分享给好友完成支付")]):e._e(),i("pay-method",{attrs:{isFirend:!0,user_money:e.user_money,pay_points:e.pay_points,list:e.pay_list,offline_dialog:!1},on:{over_pay:function(t){arguments[0]=t=e.$handleEvent(t),e.over_pay.apply(void 0,arguments)},integral_pay:function(t){arguments[0]=t=e.$handleEvent(t),e.integral_pay.apply(void 0,arguments)},other_pay:function(t){arguments[0]=t=e.$handleEvent(t),e.other_pay.apply(void 0,arguments)}},model:{value:e.is_pay,callback:function(t){e.is_pay=t},expression:"is_pay"}}),i("no-password",{attrs:{back:!1},on:{check:function(t){arguments[0]=t=e.$handleEvent(t),e.set_password.apply(void 0,arguments)}},model:{value:e.no_password,callback:function(t){e.no_password=t},expression:"no_password"}}),i("pay-password",{ref:"pay",attrs:{pay_price:e.order_info.order_amount},on:{check_word:function(t){arguments[0]=t=e.$handleEvent(t),e.check_word.apply(void 0,arguments)}},model:{value:e.pay_password,callback:function(t){e.pay_password=t},expression:"pay_password"}})],2)},o=[]},"0d86":function(e,t,i){"use strict";var a=i("4ea4");i("e25e"),i("ac1f"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("5fc0")),o=a(i("1640")),s=a(i("bcb9")),r={data:function(){return{order_id:"",show:!1,explain:[],order_info:{goods_list:[]},remaining_time:0,timer:null,time:{hour:"00",min:"00",sec:"00"},is_pay:!1,user_money:0,pay_points:0,pay_list:[],pay_password:!1,pay_type:1,no_password:!1}},onLoad:function(e){this.order_id=+e.order_id},onShow:function(){var e=this;this.$http("get|api/Order/another_order_detail",{order_id:this.order_id}).then((function(t){e.explain=t.result.explain,e.order_info=t.result.order_info,e.remaining_time=parseInt((1e3*e.order_info.auto_cancel_date-new Date)/1e3),e.timer=setInterval((function(){e.remaining_time--}),1e3),e.$get_appId(["showMenuItems","updateAppMessageShareData","hideAllNonBaseMenuItem"],(function(){if($wx.hideAllNonBaseMenuItem(),1===e.order_info.oneself){e.show=!0;var t=window.location.origin+"/h5";t=t.split("#")[0],/\?/.test(t)&&(t=t.split("?")[0]),t=t+"/#/shop_card/instead_pay/instead_pay?order_id="+e.order_id,$wx.showMenuItems({menuList:["menuItem:share:appMessage"]}),e.$http("get|api/Index/share_detail").then((function(i){$wx.updateAppMessageShareData({title:"请你帮我付款吧",desc:"我在Global3商城挑了样好东西，请你帮我付款吧~",link:t,imgUrl:e.$image+i.result.logo,success:function(e){}})}))}}))})).catch((function(e){uni.showModal({title:"提示",content:e.msg,success:function(){uni.switchTab({url:"/pages/index"})}})}))},methods:{to_pay:function(){var e=this;this.$http("post|api/Cart/cart4",{order_id:this.order_id,type:1}).then((function(t){e.is_pay=!0,e.user_money=t.result.user_money,e.pay_points=t.result.pay_points})).catch((function(t){e.$toastApp(t.msg)}))},check_word:function(e){var t=this;1===this.pay_type?this.$http("post|api/Order/pay_user_money",{order_id:this.order_id,paypwd:e,pay_radio:"user_money",type:1}).then((function(e){t.$toastApp(e.msg),setTimeout((function(){uni.redirectTo({url:"/index/pay_success/pay_success?show=1"})}),2e3)})).catch((function(e){t.$toastApp(e.msg),t.$refs.pay.passworld=[]})):this.$http("post|api/Order/another_pay_points",{order_id:this.order_id,paypwd:e,pay_radio:"pay_points",type:1}).then((function(e){t.$toastApp(e.msg),setTimeout((function(){uni.redirectTo({url:"/index/pay_success/pay_success?show=1"})}),2e3)})).catch((function(e){t.$toastApp(e.msg),t.$refs.pay.passworld=[]}))},over_pay:function(){var e=this;this.$http("get|api/User/is_paypwd").then((function(t){e.no_password=!0})).catch((function(t){e.pay_password=!0,e.pay_type=1}))},set_password:function(){this.no_password=!1,setTimeout((function(){uni.navigateTo({url:"/my/mdf_password/mdf_password"})}),500)},integral_pay:function(){var e=this;this.$http("get|api/User/is_paypwd").then((function(t){e.no_password=!0,e.no_password=!1})).catch((function(t){e.pay_password=!0,e.pay_type=2}))},other_pay:function(e){var t=this;this.$http("post|api/Payment/getCode",{order_id:this.order_id,pay_radio:"pay_code="+e.code,type:1}).then((function(e){var i=e.result;t.$get_appId(["chooseWXPay"],(function(e){$wx.chooseWXPay({timestamp:i.timeStamp,nonceStr:i.nonceStr,package:i.package,signType:"MD5",paySign:i.paySign,success:function(e){uni.redirectTo({url:"/index/pay_success/pay_success?show=1"})}})}))}))}},watch:{remaining_time:function(e){var t=1e3*e;if(t>0){var i=Math.floor(t%864e5/36e5),a=Math.floor(t%36e5/6e4),n=Math.floor(t%36e5%6e4/1e3);i<10&&(i="0"+i),a<10&&(a="0"+a),n<10&&(n="0"+n),this.time={hour:i,min:a,sec:n}}else this.time={hour:"00",min:"00",sec:"00"}}},components:{payMethod:n.default,payPassword:o.default,noPassword:s.default}};t.default=r},"0fd3":function(e,t,i){"use strict";i.r(t);var a=i("004b"),n=i("9147");for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("1fa1");var s,r=i("f0c5"),d=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"f4e1d8ae",null,!1,a["a"],s);t["default"]=d.exports},"1fa1":function(e,t,i){"use strict";var a=i("a1d1"),n=i.n(a);n.a},9147:function(e,t,i){"use strict";i.r(t);var a=i("0d86"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},"9d7d":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'.instead-pay[data-v-f4e1d8ae]{padding-bottom:%?20?%}.instead-pay .title[data-v-f4e1d8ae]{height:%?300?%;background:-webkit-linear-gradient(225deg,#02d86d,#00b159);background:linear-gradient(225deg,#02d86d,#00b159);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.instead-pay .title .content[data-v-f4e1d8ae]{width:%?500?%;display:-webkit-box;display:-webkit-flex;display:flex;color:#fff;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.instead-pay .title .content .font-36[data-v-f4e1d8ae]{padding-top:%?30?%}.instead-pay .user-info[data-v-f4e1d8ae]{padding:%?30?%;box-sizing:border-box;color:#969799}.instead-pay .price[data-v-f4e1d8ae]{padding:0 %?30?%;box-sizing:border-box}.instead-pay .price .font-60[data-v-f4e1d8ae]{color:#ff340a}.instead-pay .price .color[data-v-f4e1d8ae]{color:#fff}.instead-pay .price .dian[data-v-f4e1d8ae]{margin:0 %?6?%;color:#ff340a}.instead-pay .price .time-num[data-v-f4e1d8ae]{height:%?36?%;width:%?36?%;border-radius:%?4?%;background-color:#ff340a;font-size:%?24?%;line-height:%?36?%;text-align:center;-webkit-transform:scale(.9);transform:scale(.9)}.instead-pay .tip[data-v-f4e1d8ae]{width:%?690?%;background:#f7f7f7;border-radius:%?10?%;margin:%?60?% auto 0 auto;padding:%?30?%;box-sizing:border-box;font-size:%?26?%;line-height:%?46?%;color:#969799;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:space-around;justify-content:space-around}.instead-pay .to-pay[data-v-f4e1d8ae]{font-size:%?32?%;width:%?660?%;height:%?90?%;background:var(--theme);border-radius:%?46?%;margin:%?60?% auto 0 auto;line-height:%?90?%;text-align:center;color:#fff}.instead-pay .good-list-title[data-v-f4e1d8ae]{margin-top:%?50?%;color:#969799;font-size:%?32?%;line-height:%?130?%;padding:0 %?30?%;box-sizing:border-box}.instead-pay .good-item[data-v-f4e1d8ae]{height:%?240?%;padding:%?20?% %?30?%;box-sizing:border-box;position:relative}.instead-pay .good-item[data-v-f4e1d8ae]::after{position:absolute;content:"";height:%?2?%;width:%?690?%;left:%?30?%;-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#dfe3e6;bottom:0}.instead-pay .good-item .good-img[data-v-f4e1d8ae]{height:%?200?%;width:%?200?%}.instead-pay .good-item > .flex-item[data-v-f4e1d8ae]{padding-left:%?20?%;box-sizing:border-box}.instead-pay .good-item .good-info[data-v-f4e1d8ae]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding-right:%?60?%;box-sizing:border-box}.instead-pay .good-item .good-info .font-26[data-v-f4e1d8ae]{color:#999}.mengban[data-v-f4e1d8ae]{position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.8);padding-top:%?300?%;color:#fff;box-sizing:border-box;text-align:center}',""]),e.exports=t},a1d1:function(e,t,i){var a=i("9d7d");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("306b3ad7",a,!0,{sourceMap:!1,shadowMode:!1})}}]);